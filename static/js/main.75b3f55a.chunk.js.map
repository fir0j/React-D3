{"version":3,"sources":["components/LineChart.component.jsx","components/ColumnChart.component.jsx","components/RadialChart.component.jsx","components/D3Dom.component.jsx","components/RowChart.component.jsx","components/Rectangle.component.jsx","App.js","index.js"],"names":["margin","LineChart","state","highs","lows","xScale","d3","range","yScale","lineGenerator","xAxis","scale","tickFormat","yAxis","d","this","refs","xAxisRef","call","yAxisRef","className","viewBox","fill","stroke","strokeWidth","ref","transform","nextProps","prevState","data","timeDomain","date","tempMax","high","domain","x","y","low","Component","colors","chroma","mode","ColumnChart","bars","colorScale","map","i","key","width","height","colorDomain","avg","y1","y2","RadialChart","slices","tempAnnotations","radiusScale","arcGenerator","path","r","textAnchor","temp","perSliceAngle","Math","PI","length","startAngle","endAngle","innerRadius","outerRadius","D3Dom","useState","svgRef","useRef","useEffect","select","current","selectAll","join","attr","value","RowChart","props","drawChart","svg","append","style","yAxisAttribute","padding","enter","on","bandwidth","transition","duration","xAxisAttribute","redrawChart","chartRef","parentElement","offsetWidth","setState","remove","bind","skill","React","createRef","resizedFn","offsetHeight","window","addEventListener","clearTimeout","setTimeout","Rectangle","preserveAspectRatio","App","prepareData","fetch","then","response","json","item","Object","assign","Date","ReactDOM","render","document","getElementById"],"mappings":"0PAKMA,EAAgB,GAAhBA,EAA2B,EAA3BA,EAAsC,GAAtCA,EAAgD,GAkEvCC,E,2MA5DdC,MAAQ,CACPC,MAAO,KACPC,KAAM,KAGNC,OAAQC,MAAeC,MAAM,CAAEP,EAbnB,IAawCA,IACpDQ,OAAQF,MAAiBC,MAAM,CAblB,IAa6BP,EAAeA,IACzDS,cAAeH,O,EA6BhBI,MAAQJ,MAAgBK,MAAM,EAAKT,MAAMG,QAAQO,WAAWN,IAAc,O,EAC1EO,MAAQP,MAAcK,MAAM,EAAKT,MAAMM,QAAQI,YAAW,SAACE,GAAD,gBAAUA,EAAV,a,oFAGzDR,IAAUS,KAAKC,KAAKC,UAAUC,KAAKH,KAAKL,OACxCJ,IAAUS,KAAKC,KAAKG,UAAUD,KAAKH,KAAKF,S,+BAIxC,OACC,yBAAKO,UAAU,8BACd,yBAAKA,UAAU,4CAA4CC,QAAO,cAvDxD,IAuDwD,YAtDvD,MAuDV,0BAAMP,EAAGC,KAAKb,MAAMC,MAAOmB,KAAK,OAAOC,OArDhC,UAqD6CC,YAAY,MAChE,0BAAMV,EAAGC,KAAKb,MAAME,KAAMkB,KAAK,OAAOC,OArD9B,UAqD4CC,YAAY,MAChE,2BACC,uBAAGC,IAAI,WAAWC,UAAS,uBA1DlB,IA0D6C1B,EAA3B,OAC3B,uBAAGyB,IAAI,WAAWC,UAAS,oBAAe1B,EAAf,gB,gDA1CA2B,EAAWC,GAC1C,IAAKD,EAAUE,KAAM,OAAO,KADyB,IAE7CA,EAASF,EAATE,KACAxB,EAAkCuB,EAAlCvB,OAAQG,EAA0BoB,EAA1BpB,OAAQC,EAAkBmB,EAAlBnB,cAGlBqB,EAAaxB,IAAUuB,GAAM,SAACf,GAAD,OAAOA,EAAEiB,QACtCC,EAAU1B,IAAOuB,GAAM,SAACf,GAAD,OAAOA,EAAEmB,QACtC5B,EAAO6B,OAAOJ,GACdtB,EAAO0B,OAAO,CAAE,EAAGF,IAGnBvB,EAAc0B,GAAE,SAACrB,GAAD,OAAOT,EAAOS,EAAEiB,SAIhCtB,EAAc2B,GAAE,SAACtB,GAAD,OAAON,EAAOM,EAAEuB,QAChC,IAAMjC,EAAOK,EAAcoB,GAM3B,OAJApB,EAAc2B,GAAE,SAACtB,GAAD,OAAON,EAAOM,EAAEmB,SAIzB,CAAE7B,OAAMD,MAHDM,EAAcoB,Q,GAhCNS,a,iBCHlBtC,EAAgB,GAAhBA,EAA2B,EAA3BA,EAAsC,GAAtCA,EAAgD,GAIhDuC,EAASC,IAAO7B,MAAM,CADf,UADC,UADF,YAGsC8B,KAAK,OAgExCC,E,2MA7DdxC,MAAQ,CACPyC,KAAM,GAENtC,OAAQC,MAAeC,MAAM,CAAEP,EAZnB,IAYwCA,IACpDQ,OAAQF,MAAiBC,MAAM,CAZlB,IAY6BP,EAAeA,IACzD4C,WAAYtC,O,EAGbI,MAAQJ,MAAgBK,MAAM,EAAKT,MAAMG,QAAQO,WAAWN,IAAc,O,EAC1EO,MAAQP,MAAcK,MAAM,EAAKT,MAAMM,QAAQI,YAAW,SAACE,GAAD,gBAAUA,EAAV,a,oFA+BzDR,IAAUS,KAAKC,KAAKN,OAAOQ,KAAKH,KAAKL,OACrCJ,IAAUS,KAAKC,KAAKH,OAAOK,KAAKH,KAAKF,S,+BAIrC,OACC,yBAAKO,UAAU,8BACd,yBAAKA,UAAU,4CAA4CC,QAAO,cAxDxD,IAwDwD,YAvDvD,MAwDTN,KAAKb,MAAMyC,KAAKE,KAAI,SAAC/B,EAAGgC,GAAJ,OACpB,0BAAMC,IAAKD,EAAGX,EAAGrB,EAAEqB,EAAGC,EAAGtB,EAAEsB,EAAGY,MAAM,IAAIC,OAAQnC,EAAEmC,OAAQ3B,KAAMR,EAAEQ,UAEnE,2BACC,uBAAGG,IAAI,QAAQC,UAAS,uBA5Df,IA4D0C1B,EAA3B,OACxB,uBAAGyB,IAAI,QAAQC,UAAS,oBAAe1B,EAAf,gB,gDA1CG2B,EAAWC,GAC1C,IAAKD,EAAUE,KAAM,OAAO,KADyB,IAE7CA,EAASF,EAATE,KACAxB,EAA+BuB,EAA/BvB,OAAQG,EAAuBoB,EAAvBpB,OAAQoC,EAAehB,EAAfgB,WAGlBd,EAAaxB,IAAUuB,GAAM,SAACf,GAAD,OAAOA,EAAEiB,QACtCC,EAAU1B,IAAOuB,GAAM,SAACf,GAAD,OAAOA,EAAEmB,QAChCiB,EAAc5C,IAAUuB,GAAM,SAACf,GAAD,OAAOA,EAAEqC,OAiB7C,OAhBA9C,EAAO6B,OAAOJ,GACdtB,EAAO0B,OAAO,CAAE,EAAGF,IACnBY,EAAWV,OAAOgB,GAcX,CAAEP,KAXId,EAAKgB,KAAI,SAAC/B,GACtB,IAAMsC,EAAK5C,EAAOM,EAAEmB,MACdoB,EAAK7C,EAAOM,EAAEuB,KACpB,MAAO,CACNF,EAAG9B,EAAOS,EAAEiB,MACZK,EAAGgB,EACHH,OAAQI,EAAKD,EACb9B,KAAMiB,EAAOK,EAAW9B,EAAEqC,e,GAjCJb,aCHpBC,EAASC,IAAO7B,MAAM,CADf,UADC,UADF,YAuEG2C,E,2MAjEdpD,MAAQ,CACPqD,OAAQ,GACRC,gBAAiB,GAEjBC,YAAanD,MAAiBC,MAAM,CAAE,EAAGyC,MACzCJ,WAAYtC,MACZoD,aAAcpD,O,wEAsCd,OACC,yBAAKc,UAAU,8BACd,yBAAKA,UAAU,4CAA4CC,QAAO,cAtDxD,IAsDwD,YArDvD,MAsDV,uBAAGK,UAAS,oBAAesB,IAAf,aAA6BC,IAA7B,MACVlC,KAAKb,MAAMqD,OAAOV,KAAI,SAAC/B,EAAGgC,GAAJ,OAAU,0BAAMC,IAAKD,EAAGhC,EAAGA,EAAE6C,KAAMrC,KAAMR,EAAEQ,UAEjEP,KAAKb,MAAMsD,gBAAgBX,KAAI,SAAC/B,EAAGgC,GAAJ,OAC/B,uBAAGC,IAAKD,GACP,4BAAQc,EAAG9C,EAAE8C,EAAGtC,KAAK,OAAOC,OAAO,SACnC,0BAAMa,GAAItB,EAAE8C,EAAI,EAAGC,WAAW,UAC5B/C,EAAEgD,KADJ,oB,gDA5CyBnC,EAAWC,GAC1C,IAAKD,EAAUE,KAAM,OAAO,KADyB,IAE7CA,EAASF,EAATE,KACA4B,EAA0C7B,EAA1C6B,YAAab,EAA6BhB,EAA7BgB,WAAYc,EAAiB9B,EAAjB8B,aAG3B1B,EAAU1B,IAAOuB,GAAM,SAACf,GAAD,OAAOA,EAAEmB,QAChCiB,EAAc5C,IAAUuB,GAAM,SAACf,GAAD,OAAOA,EAAEqC,OAC7CM,EAAYvB,OAAO,CAAE,EAAGF,IACxBY,EAAWV,OAAOgB,GAGlB,IAAMa,EAAgB,EAAIC,KAAKC,GAAKpC,EAAKqC,OAmBzC,MAAO,CAAEX,OAlBM1B,EAAKgB,KAAI,SAAC/B,EAAGgC,GAQ3B,MAAO,CAAEa,KAPID,EAAa,CACzBS,WAAYrB,EAAIiB,EAChBK,UAAWtB,EAAI,GAAKiB,EACpBM,YAAaZ,EAAY3C,EAAEuB,KAC3BiC,YAAab,EAAY3C,EAAEmB,QAGbX,KAAMiB,EAAOK,EAAW9B,EAAEqC,UAUzBK,gBAPO,CAAE,EAAG,GAAI,GAAI,GAAI,IAAKX,KAAI,SAACiB,GAClD,MAAO,CACNF,EAAGH,EAAYK,GACfA,gB,GArCsBxB,a,QCRbiC,EAAQ,WAAO,IAAD,EACAC,mBAAS,CAAE,IAAK,IAAK,GAAI,GAAI,GAAI,IADjC,mBAClB3C,EADkB,KAEpB4C,GAFoB,KAEXC,oBAwBf,OAtBAC,qBACC,WACCC,YAAOH,EAAOI,SAEZC,UAAU,UAEVjD,KAAKA,GAELkD,KAAK,UAILC,KAAK,KAAK,SAACC,GAAD,OAAWA,KACrBD,KAAK,KAAM,IACXA,KAAK,KAAM,IACXA,KAAK,YAAa,uBAClBA,KAAK,SAAU,OACfA,KAAK,QAAS,uEAEjB,CAAEnD,IAIF,yBAAKT,UAAU,WACd,yDACA,yBACCK,IAAKgD,EACLzB,MAAM,SACNC,OAAO,QACP7B,UAAU,kCACVC,QAAQ,mB,QCwEG6D,E,YAzGd,WAAYC,GAAQ,IAAD,8BAClB,4CAAMA,KAsBPC,UAAY,WACX,IAAIpF,EAAgB,GAAhBA,EAA2B,GAA3BA,EAAuC,GAAvCA,EAAiD,GACpDgD,EAAQ,EAAK9C,MAAM8C,MAAQhD,EAAcA,EACzCiD,EAAS,EAAK/C,MAAM+C,OAASjD,EAAaA,EAEvCqF,EAAM/E,IACD,aACPgF,OAAO,OACPN,KAAK,QAAShC,EAAQhD,EAAcA,GACpCgF,KAAK,SAAU/B,EAASjD,EAAaA,GACrCsF,OAAO,KACPN,KAAK,YAAa,aAAehF,EAAc,IAAMA,EAAa,KAEhEmC,EAAI7B,MAAiB4B,OAAO,CAAE,EAAG,MAAO3B,MAAM,CAAE,EAAGyC,IACvDqC,EACEC,OAAO,KACPN,KAAK,YAAa,eAAiB/B,EAAS,KAC5C+B,KAAK,QAAS,UACd9D,KAAKZ,IAAc6B,IACnB2C,UAAU,QACVE,KAAK,YAAa,+BAClBO,MAAM,cAAe,OAEvB,IAAInD,EAAI9B,MAENC,MAAM,CAAE,EAAG0C,IACXf,OAAO,EAAKhC,MAAM2B,KAAKgB,KAAI,SAAC/B,GAAD,OAAOA,EAAE,EAAKZ,MAAMsF,oBAC/CC,QAAQ,IACVJ,EAAIC,OAAO,KAAKN,KAAK,QAAS,UAAU9D,KAAKZ,IAAY8B,IAAI0C,UAAU,QAAQE,KAAK,KAAM,MAE1FK,EACEP,UAAU,UACVjD,KAAK,EAAK3B,MAAM2B,MAChB6D,QACAJ,OAAO,QACPK,GAAG,aAAa,WAChBrF,IAAUS,MAAMwE,MAAM,UAAW,OAEjCI,GAAG,YAAY,WACfrF,IAAUS,MAAMwE,MAAM,UAAW,MAEjCP,KAAK,IAAK7C,EAAE,IACZ6C,KAAK,KAAK,SAAClE,GAAD,OAAOsB,EAAEtB,EAAE,EAAKZ,MAAMsF,oBAChCR,KAAK,QAAS,GACdA,KAAK,SAAU5C,EAAEwD,YAAc,IAC/BZ,KAAK,OAAQ,WACba,WAAWvF,MAAgBwF,SAAS,MACpCd,KAAK,SAAS,SAAClE,GAAD,OAAOqB,EAAErB,EAAE,EAAKZ,MAAM6F,qBAtEpB,EAwFnBC,YAAc,WACb,IAAIhD,EAAQ,EAAKiD,SAASpB,QAAQqB,cAAcC,YAChD,EAAKC,SAAS,CAAEpD,MAAOA,IACvB1C,IAAU,iBAAiB+F,SAC3B,EAAKjB,UAAY,EAAKA,UAAUkB,KAAf,gBACjB,EAAKlB,aA3FL,EAAKlF,MAAQ,CACZ2B,KAAM,CACL,CAAE0E,MAAO,MAAOtB,MAAO,IACvB,CAAEsB,MAAO,OAAQtB,MAAO,IACxB,CAAEsB,MAAO,KAAMtB,MAAO,IACtB,CAAEsB,MAAO,UAAWtB,MAAO,IAC3B,CAAEsB,MAAO,QAAStB,MAAO,IACzB,CAAEsB,MAAO,KAAMtB,MAAO,IACtB,CAAEsB,MAAO,UAAWtB,MAAO,IAC3B,CAAEsB,MAAO,OAAQtB,MAAO,IACxB,CAAEsB,MAAO,YAAatB,MAAO,IAC7B,CAAEsB,MAAO,KAAMtB,MAAO,KAEvBO,eAAgB,QAChBO,eAAgB,QAChB/C,MAAO,EACPC,OAAQ,GAET,EAAKgD,SAAWO,IAAMC,YApBJ,E,iFAyEE,IAMhBC,EANe,OACf1D,EAAQjC,KAAKkF,SAASpB,QAAQqB,cAAcC,YAC5ClD,EAASlC,KAAKkF,SAASpB,QAAQqB,cAAcS,aACjD5F,KAAKqF,SAAS,CAAEpD,MAAOA,EAAOC,OAAQA,IAAU,WAC/C,EAAKmC,eAGNwB,OAAOC,iBAAiB,UAAU,WACjCC,aAAaJ,GACbA,EAAYK,YAAW,WACtB,EAAKf,gBACH,U,+BAaJ,OACC,yBAAK5E,UAAU,iEACd,yBAAKA,UAAU,WAAWK,IAAKV,KAAKkF,WADrC,S,GAnGoBO,IAAMlE,WCDhB0E,EAAY,WAsBxB,OACC,yBAAK5F,UAAU,qCAKd,yBAAKA,UAAU,4CAA4CC,QAAQ,cAAc4F,qBAAmB,GACnG,0BAAMjE,MAAM,MAAMC,OAAO,MAAM3B,KAAK,YAAYE,YAAY,SCcjD0F,E,YAnCd,WAAY/B,GAAQ,IAAD,8BAClB,4CAAMA,KAMPgC,YAAc,WACbC,MAAM,kFACJC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACC,GAEN,OAAOA,EAASzE,KAAI,SAAC2E,GAAD,OAAUC,OAAOC,OAAOF,EAAM,CAAEzF,KAAM,IAAI4F,KAAKH,EAAKzF,cAExEsF,MAAK,SAACC,GAAD,OAAc,EAAKlB,SAAS,CAAEvE,KAAMyF,QAZ3C,EAAKpH,MAAQ,CACZ2B,KAAM,MAHW,E,iFAkBlBd,KAAKoG,gB,+BAIL,OACC,yBAAK/F,UAAU,kBACd,kBAAC,EAAD,CAAWS,KAAMd,KAAKb,MAAM2B,OAC5B,kBAAC,EAAD,CAAaA,KAAMd,KAAKb,MAAM2B,OAC9B,kBAAC,EAAD,CAAaA,KAAMd,KAAKb,MAAM2B,OAC9B,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,W,GA/BcS,a,MCHlBsF,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.75b3f55a.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nconst width = 650;\nconst height = 400;\nconst margin = { top: 20, right: 5, bottom: 20, left: 35 };\nconst red = '#eb6a5b';\nconst blue = '#52b6ca';\n\nclass LineChart extends Component {\n\t// this state is same as writing this.state = {} inside constructor lifeCycle Method. it's not local variable.\n\tstate = {\n\t\thighs: null, // svg path command for all the high temps\n\t\tlows: null, // svg path command for low temps,\n\n\t\t// d3 will return the following functions for us\n\t\txScale: d3.scaleTime().range([ margin.left, width - margin.right ]),\n\t\tyScale: d3.scaleLinear().range([ height - margin.bottom, margin.top ]),\n\t\tlineGenerator: d3.line()\n\t};\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tif (!nextProps.data) return null; // data hasn't been loaded yet so do nothing\n\t\tconst { data } = nextProps;\n\t\tconst { xScale, yScale, lineGenerator } = prevState;\n\n\t\t// data has changed, so recalculate scale domains\n\t\tconst timeDomain = d3.extent(data, (d) => d.date);\n\t\tconst tempMax = d3.max(data, (d) => d.high);\n\t\txScale.domain(timeDomain);\n\t\tyScale.domain([ 0, tempMax ]);\n\n\t\t// constant parameter\n\t\tlineGenerator.x((d) => xScale(d.date));\n\n\t\t// calculate d attribute for path to draw lines based on LineGenerator.x()\n\t\t// blue line\n\t\tlineGenerator.y((d) => yScale(d.low));\n\t\tconst lows = lineGenerator(data);\n\t\t// red line\n\t\tlineGenerator.y((d) => yScale(d.high));\n\t\tconst highs = lineGenerator(data);\n\n\t\t// return to merge them with our state Object\n\t\treturn { lows, highs };\n\t}\n\n\txAxis = d3.axisBottom().scale(this.state.xScale).tickFormat(d3.timeFormat('%b'));\n\tyAxis = d3.axisLeft().scale(this.state.yScale).tickFormat((d) => `${d}℉`);\n\n\tcomponentDidUpdate() {\n\t\td3.select(this.refs.xAxisRef).call(this.xAxis);\n\t\td3.select(this.refs.yAxisRef).call(this.yAxis);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"flex justify-center w-full\">\n\t\t\t\t<svg className=\"border w-full max-w-screen-xl h-screen90 \" viewBox={`0 0 ${width} ${height}`}>\n\t\t\t\t\t<path d={this.state.highs} fill=\"none\" stroke={red} strokeWidth=\"2\" />\n\t\t\t\t\t<path d={this.state.lows} fill=\"none\" stroke={blue} strokeWidth=\"2\" />\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<g ref=\"xAxisRef\" transform={`translate(0, ${height - margin.bottom})`} />\n\t\t\t\t\t\t<g ref=\"yAxisRef\" transform={`translate(${margin.left}, 0)`} />\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LineChart;\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport chroma from 'chroma-js';\n\nconst width = 650;\nconst height = 400;\nconst margin = { top: 20, right: 5, bottom: 20, left: 35 };\nconst red = '#eb6a5b';\nconst green = '#b6e86f';\nconst blue = '#52b6ca';\nconst colors = chroma.scale([ blue, green, red ]).mode('hsl');\n\nclass ColumnChart extends Component {\n\tstate = {\n\t\tbars: [], // array of rects\n\t\t// d3 helpers\n\t\txScale: d3.scaleTime().range([ margin.left, width - margin.right ]),\n\t\tyScale: d3.scaleLinear().range([ height - margin.bottom, margin.top ]),\n\t\tcolorScale: d3.scaleLinear()\n\t};\n\n\txAxis = d3.axisBottom().scale(this.state.xScale).tickFormat(d3.timeFormat('%b'));\n\tyAxis = d3.axisLeft().scale(this.state.yScale).tickFormat((d) => `${d}℉`);\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tif (!nextProps.data) return null; // data hasn't been loaded yet so do nothing\n\t\tconst { data } = nextProps;\n\t\tconst { xScale, yScale, colorScale } = prevState;\n\n\t\t// data has changed, so recalculate scale domains\n\t\tconst timeDomain = d3.extent(data, (d) => d.date);\n\t\tconst tempMax = d3.max(data, (d) => d.high);\n\t\tconst colorDomain = d3.extent(data, (d) => d.avg);\n\t\txScale.domain(timeDomain);\n\t\tyScale.domain([ 0, tempMax ]);\n\t\tcolorScale.domain(colorDomain);\n\n\t\t// calculate x and y for each rectangle\n\t\tconst bars = data.map((d) => {\n\t\t\tconst y1 = yScale(d.high);\n\t\t\tconst y2 = yScale(d.low);\n\t\t\treturn {\n\t\t\t\tx: xScale(d.date),\n\t\t\t\ty: y1,\n\t\t\t\theight: y2 - y1,\n\t\t\t\tfill: colors(colorScale(d.avg))\n\t\t\t};\n\t\t});\n\n\t\treturn { bars };\n\t}\n\n\tcomponentDidUpdate() {\n\t\td3.select(this.refs.xAxis).call(this.xAxis);\n\t\td3.select(this.refs.yAxis).call(this.yAxis);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"flex justify-center w-full\">\n\t\t\t\t<svg className=\"border w-full max-w-screen-xl h-screen90 \" viewBox={`0 0 ${width} ${height}`}>\n\t\t\t\t\t{this.state.bars.map((d, i) => (\n\t\t\t\t\t\t<rect key={i} x={d.x} y={d.y} width=\"2\" height={d.height} fill={d.fill} />\n\t\t\t\t\t))}\n\t\t\t\t\t<g>\n\t\t\t\t\t\t<g ref=\"xAxis\" transform={`translate(0, ${height - margin.bottom})`} />\n\t\t\t\t\t\t<g ref=\"yAxis\" transform={`translate(${margin.left}, 0)`} />\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ColumnChart;\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport chroma from 'chroma-js';\n\nconst width = 650;\nconst height = 650;\nconst red = '#eb6a5b';\nconst green = '#b6e86f';\nconst blue = '#52b6ca';\nconst colors = chroma.scale([ blue, green, red ]);\n\nclass RadialChart extends Component {\n\tstate = {\n\t\tslices: [], // array of svg path commands, each representing a day\n\t\ttempAnnotations: [],\n\t\t// d3 helpers\n\t\tradiusScale: d3.scaleLinear().range([ 0, width / 2 ]),\n\t\tcolorScale: d3.scaleLinear(),\n\t\tarcGenerator: d3.arc()\n\t};\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tif (!nextProps.data) return null; // data hasn't been loaded yet so do nothing\n\t\tconst { data } = nextProps;\n\t\tconst { radiusScale, colorScale, arcGenerator } = prevState;\n\n\t\t// data has changed, so recalculate scale domains\n\t\tconst tempMax = d3.max(data, (d) => d.high);\n\t\tconst colorDomain = d3.extent(data, (d) => d.avg);\n\t\tradiusScale.domain([ 0, tempMax ]);\n\t\tcolorScale.domain(colorDomain);\n\n\t\t// one arc per day, innerRadius is low temp, outerRadius is high temp\n\t\tconst perSliceAngle = 2 * Math.PI / data.length;\n\t\tconst slices = data.map((d, i) => {\n\t\t\tconst path = arcGenerator({\n\t\t\t\tstartAngle: i * perSliceAngle,\n\t\t\t\tendAngle: (i + 1) * perSliceAngle,\n\t\t\t\tinnerRadius: radiusScale(d.low),\n\t\t\t\touterRadius: radiusScale(d.high)\n\t\t\t});\n\n\t\t\treturn { path, fill: colors(colorScale(d.avg)) };\n\t\t});\n\n\t\tconst tempAnnotations = [ 5, 20, 40, 60, 80 ].map((temp) => {\n\t\t\treturn {\n\t\t\t\tr: radiusScale(temp),\n\t\t\t\ttemp\n\t\t\t};\n\t\t});\n\n\t\treturn { slices, tempAnnotations };\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"flex justify-center w-full\">\n\t\t\t\t<svg className=\"border w-full max-w-screen-xl h-screen90 \" viewBox={`0 0 ${width} ${height}`}>\n\t\t\t\t\t<g transform={`translate(${width / 2}, ${height / 2})`}>\n\t\t\t\t\t\t{this.state.slices.map((d, i) => <path key={i} d={d.path} fill={d.fill} />)}\n\n\t\t\t\t\t\t{this.state.tempAnnotations.map((d, i) => (\n\t\t\t\t\t\t\t<g key={i}>\n\t\t\t\t\t\t\t\t<circle r={d.r} fill=\"none\" stroke=\"#999\" />\n\t\t\t\t\t\t\t\t<text y={-d.r - 2} textAnchor=\"middle\">\n\t\t\t\t\t\t\t\t\t{d.temp}℉\n\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default RadialChart;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { select } from 'd3';\n\nexport const D3Dom = () => {\n\tconst [ data, setData ] = useState([ 200, 100, 80, 60, 45, 5 ]);\n\tconst svgRef = useRef();\n\n\tuseEffect(\n\t\t() => {\n\t\t\tselect(svgRef.current)\n\t\t\t\t// means selectElemnentByRef()  because we cannot selectElementBy Id or Classname in React.\n\t\t\t\t.selectAll('circle')\n\t\t\t\t// similar to querySelectorAll('circle') which selects all circle elements inside the DOM selected by select()\n\t\t\t\t.data(data)\n\t\t\t\t// for each data in the data array\n\t\t\t\t.join('circle')\n\t\t\t\t// appends circle element for each data or iteration and passes all the selected circle elements through d3's enter, update and remove methods\n\n\t\t\t\t// after join, all the attributes will be applied for each d3's lifecycle i.e enter, update and remove\n\t\t\t\t.attr('r', (value) => value)\n\t\t\t\t.attr('cx', 50)\n\t\t\t\t.attr('cy', 50)\n\t\t\t\t.attr('transform', 'translate(640, 150)')\n\t\t\t\t.attr('stroke', 'red')\n\t\t\t\t.attr('class', 'fill-current text-orange-200 hover:text-orange-300 cursor-pointer');\n\t\t},\n\t\t[ data ]\n\t);\n\n\treturn (\n\t\t<div className=\"m-auto \">\n\t\t\t<p>D3 Controlling the SVG DOM</p>\n\t\t\t<svg\n\t\t\t\tref={svgRef}\n\t\t\t\twidth=\"1280px\"\n\t\t\t\theight=\"400px\"\n\t\t\t\tclassName=\"border fill-current bg-blue-500\"\n\t\t\t\tviewBox=\"0 0 1280 400\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import React from 'react';\nimport * as d3 from 'd3';\n\nclass RowChart extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdata: [\n\t\t\t\t{ skill: 'CSS', value: 80 },\n\t\t\t\t{ skill: 'HTML', value: 70 },\n\t\t\t\t{ skill: 'JS', value: 85 },\n\t\t\t\t{ skill: 'ANGULAR', value: 90 },\n\t\t\t\t{ skill: 'REACT', value: 75 },\n\t\t\t\t{ skill: 'D3', value: 70 },\n\t\t\t\t{ skill: 'NODE JS', value: 65 },\n\t\t\t\t{ skill: 'JAVA', value: 65 },\n\t\t\t\t{ skill: 'UI DESIGN', value: 70 },\n\t\t\t\t{ skill: 'XD', value: 65 }\n\t\t\t],\n\t\t\tyAxisAttribute: 'skill',\n\t\t\txAxisAttribute: 'value',\n\t\t\twidth: 0,\n\t\t\theight: 0\n\t\t};\n\t\tthis.chartRef = React.createRef();\n\t}\n\n\tdrawChart = () => {\n\t\tlet margin = { top: 20, right: 30, bottom: 40, left: 90 },\n\t\t\twidth = this.state.width - margin.left - margin.right,\n\t\t\theight = this.state.height - margin.top - margin.bottom;\n\t\t// append the svg object to the body of the page\n\t\tlet svg = d3\n\t\t\t.select('.rowChart')\n\t\t\t.append('svg')\n\t\t\t.attr('width', width + margin.left + margin.right)\n\t\t\t.attr('height', height + margin.top + margin.bottom)\n\t\t\t.append('g')\n\t\t\t.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\t\t// Add X axis\n\t\tlet x = d3.scaleLinear().domain([ 0, 100 ]).range([ 0, width ]);\n\t\tsvg\n\t\t\t.append('g')\n\t\t\t.attr('transform', 'translate(0,' + height + ')')\n\t\t\t.attr('class', 'axis x')\n\t\t\t.call(d3.axisBottom(x))\n\t\t\t.selectAll('text')\n\t\t\t.attr('transform', 'translate(-10,0)rotate(-45)')\n\t\t\t.style('text-anchor', 'end');\n\t\t// Add Y axis\n\t\tlet y = d3\n\t\t\t.scaleBand()\n\t\t\t.range([ 0, height ])\n\t\t\t.domain(this.state.data.map((d) => d[this.state.yAxisAttribute]))\n\t\t\t.padding(0.1);\n\t\tsvg.append('g').attr('class', 'axis y').call(d3.axisLeft(y)).selectAll('text').attr('dy', null);\n\t\t// Add Bars\n\t\tsvg\n\t\t\t.selectAll('myRect')\n\t\t\t.data(this.state.data)\n\t\t\t.enter()\n\t\t\t.append('rect')\n\t\t\t.on('mouseover', function() {\n\t\t\t\td3.select(this).style('opacity', 0.5);\n\t\t\t})\n\t\t\t.on('mouseout', function() {\n\t\t\t\td3.select(this).style('opacity', 1);\n\t\t\t})\n\t\t\t.attr('x', x(0))\n\t\t\t.attr('y', (d) => y(d[this.state.yAxisAttribute]))\n\t\t\t.attr('width', 0)\n\t\t\t.attr('height', y.bandwidth() - 10)\n\t\t\t.attr('fill', '#DF337D')\n\t\t\t.transition(d3.transition().duration(1000))\n\t\t\t.attr('width', (d) => x(d[this.state.xAxisAttribute]));\n\t};\n\n\tcomponentDidMount() {\n\t\tlet width = this.chartRef.current.parentElement.offsetWidth;\n\t\tlet height = this.chartRef.current.parentElement.offsetHeight;\n\t\tthis.setState({ width: width, height: height }, () => {\n\t\t\tthis.drawChart();\n\t\t});\n\t\tlet resizedFn;\n\t\twindow.addEventListener('resize', () => {\n\t\t\tclearTimeout(resizedFn);\n\t\t\tresizedFn = setTimeout(() => {\n\t\t\t\tthis.redrawChart();\n\t\t\t}, 200);\n\t\t});\n\t}\n\n\tredrawChart = () => {\n\t\tlet width = this.chartRef.current.parentElement.offsetWidth;\n\t\tthis.setState({ width: width });\n\t\td3.select('.rowChart svg').remove();\n\t\tthis.drawChart = this.drawChart.bind(this);\n\t\tthis.drawChart();\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"bg-white w-full max-w-screen-xl h-screen90 text-center m-auto\">\n\t\t\t\t<div className=\"rowChart\" ref={this.chartRef} />;\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default RowChart;\n","import React from 'react';\n\nexport const Rectangle = () => {\n\t// const [ width, setWidth ] = useState();\n\t// const [ height, setHeight ] = useState();\n\n\t// useEffect(() => {\n\t// \t// Though event listner is added on the resize event, it doesn't have ability to execute the code inside this hook.\n\t// \t// These code will onll be executed once if no dependency array is passed.\n\t// \t// But the event listeners have ability to execute code inside ComponentDidMount lifeCycle any no of time.\n\t// \t// This is one LESS KNOWN FACT ABOUT THE useEffect() and ComponentDidMount()\n\n\t// \twindow.addEventListener('resize', updateSize);\n\t// \treturn () => {\n\t// \t\twindow.removeEventListener('resize', updateSize);\n\t// \t};\n\t// }, []);\n\n\t// const updateSize = () => {\n\t// \tsetWidth(svgRef.current.clientWidth);\n\t// \tsetHeight(svgRef.current.clientHeight);\n\t// \tconsole.log(width, height);\n\t// };\n\n\treturn (\n\t\t<div className=\"border flex justify-center w-full\">\n\t\t\t{/* <svg className=\"border w-full max-w-screen-xl h-screen90 \" viewBox=\"0 0 20 10\" preserveAspectRatio>\n\t\t\t\t<polygon fill=\"red\" strokeWidth=\"0\" points=\"0,10 20,10 10,0\" />\n\t\t\t</svg> */}\n\n\t\t\t<svg className=\"border w-full max-w-screen-xl h-screen90 \" viewBox=\"0 0 200 100\" preserveAspectRatio>\n\t\t\t\t<rect width=\"200\" height=\"100\" fill=\"lightblue\" strokeWidth=\"0\" />\n\t\t\t</svg>\n\t\t</div>\n\t);\n};\n\n// import React, { Component } from 'react';\n\n// export class ResponsiveSVG extends Component {\n// \tstate = {\n// \t\twidth: 1024,\n// \t\theight: null\n// \t};\n\n// \tsvgRef = React.createRef();\n\n// \tcomponentDidMount() {\n// \t\tconsole.log('component mounted');\n// \t\twindow.addEventListener('resize', this.updateSize);\n// \t}\n\n// \tcomponentWillUnmount() {\n// \t\tconsole.log('component unmounted');\n// \t\twindow.removeEventListener('resize', this.updateSize);\n// \t}\n\n// \tupdateSize = () => {\n// \t\tthis.setState({ width: this.svgRef.current.clientWidth, height: this.svgRef.current.clientHeight });\n// \t\tconsole.log(this.state.width, this.state.height);\n// \t};\n\n// \trender() {\n// \t\treturn <svg style={{ width: '100%', height: '100%' }} ref={this.svgRef} />;\n// \t}\n// }\n","import React, { Component } from 'react';\nimport LineChart from './components/LineChart.component';\nimport ColumnChart from './components/ColumnChart.component';\nimport RadialChart from './components/RadialChart.component';\nimport { D3Dom } from './components/D3Dom.component';\nimport RowChart from './components/RowChart.component';\nimport { Rectangle } from './components/Rectangle.component';\n\nclass App extends Component {\n\t// LC Method 1:\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdata: null\n\t\t};\n\t}\n\n\tprepareData = () => {\n\t\tfetch('https://raw.githubusercontent.com/sxywu/react-d3-example/master/public/sf.json')\n\t\t\t.then((response) => response.json())\n\t\t\t.then((response) => {\n\t\t\t\t// modifying just data property of the objects in the data returned. Object.assign(target, source)\n\t\t\t\treturn response.map((item) => Object.assign(item, { date: new Date(item.date) }));\n\t\t\t})\n\t\t\t.then((response) => this.setState({ data: response }));\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.prepareData();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"flex flex-wrap\">\n\t\t\t\t<LineChart data={this.state.data} />\n\t\t\t\t<ColumnChart data={this.state.data} />\n\t\t\t\t<RadialChart data={this.state.data} />\n\t\t\t\t<RowChart />\n\t\t\t\t<Rectangle />\n\t\t\t\t<D3Dom />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './css/framework/tailwind.custom.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}