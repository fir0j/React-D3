(this["webpackJsonpReact-D3"]=this["webpackJsonpReact-D3"]||[]).push([[0],{106:function(e,t,n){e.exports=n(113)},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(50),l=n.n(c),i=n(3),u=n(1),o=function(){var e=Object(r.useState)([65,50,40,30,25,20]),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(r.useRef)();return Object(r.useEffect)((function(){Object(u.i)(l.current).selectAll("circle").data(n).join("circle").attr("r",(function(e){return e})).attr("cx",10).attr("cy",10).attr("stroke","red").attr("transform","translate(150,75)").attr("class","fill-current text-orange-200 hover:text-orange-300 cursor-pointer")}),[n]),a.a.createElement("div",{className:"flex flex-col"},a.a.createElement("div",{className:"flex"},a.a.createElement("div",null,a.a.createElement("p",null,"D3 Controlling the SVG DOM"),a.a.createElement("svg",{ref:l})),a.a.createElement("div",null,a.a.createElement("p",null,"React Controlling the SVG DOM"),a.a.createElement("svg",null,n.map((function(e){return a.a.createElement("circle",{cx:"10",cy:"10",r:e,stroke:"red",transform:"translate(150,75)",className:"fill-current text-orange-200 hover:text-orange-300 cursor-pointer"})}))))),a.a.createElement("div",{className:"flex justify-center"},a.a.createElement("button",{className:"border-2 m-2 p-2",onClick:function(){return c(n.map((function(e){return e+5})))}},"update"),a.a.createElement("button",{className:"border-2 m-2 p-2",onClick:function(){return c(n.filter((function(e){return e<40})))}},"filter")))},f=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){fetch("https://raw.githubusercontent.com/sxywu/react-d3-example/master/public/sf.json").then((function(e){return e.json()})).then((function(e){return e.map((function(e){return Object.assign(e,{date:new Date(e.date)})}))})).then((function(e){return c(e)}))}),[]);var l=function(){var e=u.h().range([0,600]),t=u.f().range([400,0]),r=u.b(n,(function(e){return e.date})),a=u.e(n,(function(e){return e.high}));e.domain(r),t.domain([0,a]);var c=u.d().x((function(t){return e(t.date)}));return[{fill:"#eb6a5b",path:c.y((function(e){return t(e.high)}))(n)},{fill:"#52b6ca",path:c.y((function(e){return t(e.low)}))(n)}]};return a.a.createElement("div",{className:"flex flex-wrap justify-around"},a.a.createElement("div",{className:"border mt-2"},n&&a.a.createElement("div",null,a.a.createElement("svg",{width:600,height:400},function(){if(n){var e=u.h().range([0,600]),t=u.f().range([400,0]),r=u.g(u.c),a=u.b(n,(function(e){return e.date})),c=u.e(n,(function(e){return e.high})),l=u.b(n,(function(e){return e.avg})),o=Object(i.a)(l,2),f=o[0],s=o[1];return e.domain(a),t.domain([0,c]),r.domain([s,f]),n.map((function(n){var a=t(n.high),c=t(n.low);return{x:e(n.date),y:a,height:c-a,fill:r(n.avg)}}))}}().map((function(e){return a.a.createElement("rect",{x:e.x,y:e.y,width:"2",height:e.height,fill:e.fill})}))))),a.a.createElement("div",{className:"border mt-2"},n&&a.a.createElement("div",null,a.a.createElement("svg",{width:600,height:400},a.a.createElement("path",{d:l()[0].path,fill:"none",stroke:"red"}),a.a.createElement("path",{d:l()[1].path,fill:"none",stroke:"blue"})))),a.a.createElement("div",{className:"border mt-2"},n&&a.a.createElement("div",null,a.a.createElement("svg",{width:600,height:400},function(){var e=u.f().range([0,300]),t=u.g(u.c),r=u.e(n,(function(e){return e.high})),a=u.b(n,(function(e){return e.avg})),c=Object(i.a)(a,2),l=c[0],o=c[1];e.domain([0,r]),t.domain([o,l]);var f=u.a(),s=2*Math.PI/n.length;return n.map((function(n,r){return{fill:t(n.avg),path:f({startAngle:r*s,endAngle:(r+1)*s,innerRadius:e(n.low),outerRadius:e(n.high)})}}))}().map((function(e){return a.a.createElement("path",{d:e.path,fill:e.fill,transform:"translate(".concat(300,", ").concat(200,")")})}))))),a.a.createElement("div",{className:"border mt-2"},a.a.createElement(o,null)))};n(111),n(112);l.a.render(a.a.createElement(f,null),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.778c8c8c.chunk.js.map