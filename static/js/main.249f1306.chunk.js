(this["webpackJsonpReact-D3"]=this["webpackJsonpReact-D3"]||[]).push([[0],{75:function(e,t,a){e.exports=a(82)},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),l=a.n(c),i=a(2),s=a(3),o=a(5),u=a(4),f=a(6),h=a(1),m=20,d=5,b=20,x=35,g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={highs:null,lows:null,xScale:h.i().range([x,650-d]),yScale:h.h().range([400-b,m]),lineGenerator:h.e()},a.xAxis=h.b().scale(a.state.xScale).tickFormat(h.k("%b")),a.yAxis=h.c().scale(a.state.yScale).tickFormat((function(e){return"".concat(e,"\u2109")})),a}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){h.j(this.refs.xAxisRef).call(this.xAxis),h.j(this.refs.yAxisRef).call(this.yAxis)}},{key:"render",value:function(){return r.a.createElement("div",{className:"flex justify-center w-full"},r.a.createElement("svg",{className:"border w-full max-w-screen-xl h-screen90 ",viewBox:"0 0 ".concat(650," ").concat(400)},r.a.createElement("path",{d:this.state.highs,fill:"none",stroke:"#eb6a5b",strokeWidth:"2"}),r.a.createElement("path",{d:this.state.lows,fill:"none",stroke:"#52b6ca",strokeWidth:"2"}),r.a.createElement("g",null,r.a.createElement("g",{ref:"xAxisRef",transform:"translate(0, ".concat(400-b,")")}),r.a.createElement("g",{ref:"yAxisRef",transform:"translate(".concat(x,", 0)")}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e.data)return null;var a=e.data,n=t.xScale,r=t.yScale,c=t.lineGenerator,l=h.d(a,(function(e){return e.date})),i=h.f(a,(function(e){return e.high}));n.domain(l),r.domain([0,i]),c.x((function(e){return n(e.date)})),c.y((function(e){return r(e.low)}));var s=c(a);return c.y((function(e){return r(e.high)})),{lows:s,highs:c(a)}}}]),t}(n.Component),p=a(21),v=a.n(p),w=a(30),j=a(9),y=20,E=5,k=20,O=35,A=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useState)(""),c=Object(j.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)({highs:null,lows:null}),o=Object(j.a)(s,2),u=o[0],f=o[1];return Object(n.useEffect)((function(){(function(){var e=Object(w.a)(v.a.mark((function e(){var t,a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/sxywu/react-d3-example/master/public/sf.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.map((function(e){return Object.assign(e,{date:new Date(e.date)})})),i(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){console.log(l)}),[l]),Object(n.useEffect)((function(){var e=h.d(l,(function(e){return e.date})),t=h.f(l,(function(e){return e.high})),a=h.i().domain(e).range([O,650-E]),n=h.h().domain([0,t]).range([400-k,y]),r=h.e().x((function(e){return a(e.date)})).y((function(e){return n(e.low)})),c=h.e().x((function(e){return a(e.date)})).y((function(e){return n(e.high)})),i=r(l),s=c(l);f({lows:i,highs:s})}),[l]),Object(n.useEffect)((function(){var a=h.i().range([O,650-E]),n=h.h().range([400-k,y]),r=h.b().scale(a).tickFormat(h.k("%b")),c=h.c().scale(n).tickFormat((function(e){return"".concat(e,"\u2109")}));h.j(e.current).call(r),h.j(t.current).call(c)}),[l]),r.a.createElement("div",{className:"flex justify-center w-full"},r.a.createElement("svg",{className:"border w-full max-w-screen-xl h-screen90 ",viewBox:"0 0 ".concat(650," ").concat(400)},r.a.createElement("path",{d:u.highs,fill:"none",stroke:"#eb6a5b",strokeWidth:"2"}),r.a.createElement("path",{d:u.lows,fill:"none",stroke:"#52b6ca",strokeWidth:"2"}),r.a.createElement("g",null,r.a.createElement("g",{ref:e,transform:"translate(0, ".concat(400-k,")")}),r.a.createElement("g",{ref:t,transform:"translate(".concat(O,", 0)")}))))},S=a(15),D=a.n(S),R=20,C=5,N=20,F=35,B=D.a.scale(["#52b6ca","#b6e86f","#eb6a5b"]).mode("hsl"),G=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={bars:[],xScale:h.i().range([F,650-C]),yScale:h.h().range([400-N,R]),colorScale:h.h()},a.xAxis=h.b().scale(a.state.xScale).tickFormat(h.k("%b")),a.yAxis=h.c().scale(a.state.yScale).tickFormat((function(e){return"".concat(e,"\u2109")})),a}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){h.j(this.refs.xAxis).call(this.xAxis),h.j(this.refs.yAxis).call(this.yAxis)}},{key:"render",value:function(){return r.a.createElement("div",{className:"flex justify-center w-full"},r.a.createElement("svg",{className:"border w-full max-w-screen-xl h-screen90 ",viewBox:"0 0 ".concat(650," ").concat(400)},this.state.bars.map((function(e,t){return r.a.createElement("rect",{key:t,x:e.x,y:e.y,width:"2",height:e.height,fill:e.fill})})),r.a.createElement("g",null,r.a.createElement("g",{ref:"xAxis",transform:"translate(0, ".concat(400-N,")")}),r.a.createElement("g",{ref:"yAxis",transform:"translate(".concat(F,", 0)")}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e.data)return null;var a=e.data,n=t.xScale,r=t.yScale,c=t.colorScale,l=h.d(a,(function(e){return e.date})),i=h.f(a,(function(e){return e.high})),s=h.d(a,(function(e){return e.avg}));return n.domain(l),r.domain([0,i]),c.domain(s),{bars:a.map((function(e){var t=r(e.high),a=r(e.low);return{x:n(e.date),y:t,height:a-t,fill:B(c(e.avg))}}))}}}]),t}(n.Component),W=D.a.scale(["#52b6ca","#b6e86f","#eb6a5b"]),J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={slices:[],tempAnnotations:[],radiusScale:h.h().range([0,325]),colorScale:h.h(),arcGenerator:h.a()},a}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"flex justify-center w-full"},r.a.createElement("svg",{className:"border w-full max-w-screen-xl h-screen90 ",viewBox:"0 0 ".concat(650," ").concat(650)},r.a.createElement("g",{transform:"translate(".concat(325,", ").concat(325,")")},this.state.slices.map((function(e,t){return r.a.createElement("path",{key:t,d:e.path,fill:e.fill})})),this.state.tempAnnotations.map((function(e,t){return r.a.createElement("g",{key:t},r.a.createElement("circle",{r:e.r,fill:"none",stroke:"#999"}),r.a.createElement("text",{y:-e.r-2,textAnchor:"middle"},e.temp,"\u2109"))})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e.data)return null;var a=e.data,n=t.radiusScale,r=t.colorScale,c=t.arcGenerator,l=h.f(a,(function(e){return e.high})),i=h.d(a,(function(e){return e.avg}));n.domain([0,l]),r.domain(i);var s=2*Math.PI/a.length;return{slices:a.map((function(e,t){return{path:c({startAngle:t*s,endAngle:(t+1)*s,innerRadius:n(e.low),outerRadius:n(e.high)}),fill:W(r(e.avg))}})),tempAnnotations:[5,20,40,60,80].map((function(e){return{r:n(e),temp:e}}))}}}]),t}(n.Component),M=function(){var e=Object(n.useState)([200,100,80,60,45,5]),t=Object(j.a)(e,2),a=t[0],c=(t[1],Object(n.useRef)());return Object(n.useEffect)((function(){Object(h.j)(c.current).selectAll("circle").data(a).join("circle").attr("r",(function(e){return e})).attr("cx",50).attr("cy",50).attr("transform","translate(640, 150)").attr("stroke","red").attr("class","fill-current text-orange-200 hover:text-orange-300 cursor-pointer")}),[a]),r.a.createElement("div",{className:"m-auto "},r.a.createElement("p",null,"D3 Controlling the SVG DOM"),r.a.createElement("svg",{ref:c,width:"1280px",height:"400px",className:"border fill-current bg-blue-500",viewBox:"0 0 1280 400"}))},U=a(14),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).drawChart=function(){var e=20,t=30,n=40,r=90,c=a.state.width-r-t,l=a.state.height-e-n,i=h.j(".rowChart").append("svg").attr("width",c+r+t).attr("height",l+e+n).append("g").attr("transform","translate("+r+","+e+")"),s=h.h().domain([0,100]).range([0,c]);i.append("g").attr("transform","translate(0,"+l+")").attr("class","axis x").call(h.b(s)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end");var o=h.g().range([0,l]).domain(a.state.data.map((function(e){return e[a.state.yAxisAttribute]}))).padding(.1);i.append("g").attr("class","axis y").call(h.c(o)).selectAll("text").attr("dy",null),i.selectAll("myRect").data(a.state.data).enter().append("rect").on("mouseover",(function(){h.j(this).style("opacity",.5)})).on("mouseout",(function(){h.j(this).style("opacity",1)})).attr("x",s(0)).attr("y",(function(e){return o(e[a.state.yAxisAttribute])})).attr("width",0).attr("height",o.bandwidth()-10).attr("fill","#DF337D").transition(h.l().duration(1e3)).attr("width",(function(e){return s(e[a.state.xAxisAttribute])}))},a.redrawChart=function(){var e=a.chartRef.current.parentElement.offsetWidth;a.setState({width:e}),h.j(".rowChart svg").remove(),a.drawChart=a.drawChart.bind(Object(U.a)(a)),a.drawChart()},a.state={data:[{skill:"CSS",value:80},{skill:"HTML",value:70},{skill:"JS",value:85},{skill:"ANGULAR",value:90},{skill:"REACT",value:75},{skill:"D3",value:70},{skill:"NODE JS",value:65},{skill:"JAVA",value:65},{skill:"UI DESIGN",value:70},{skill:"XD",value:65}],yAxisAttribute:"skill",xAxisAttribute:"value",width:0,height:0},a.chartRef=r.a.createRef(),a}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.chartRef.current.parentElement.offsetWidth,n=this.chartRef.current.parentElement.offsetHeight;this.setState({width:a,height:n},(function(){t.drawChart()})),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){t.redrawChart()}),200)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"bg-white w-full max-w-screen-xl h-screen90 text-center m-auto"},r.a.createElement("div",{className:"rowChart",ref:this.chartRef}),";")}}]),t}(r.a.Component),P=function(){return r.a.createElement("div",{className:"border flex justify-center w-full"},r.a.createElement("svg",{className:"border w-full max-w-screen-xl h-screen90 ",viewBox:"0 0 200 100",preserveAspectRatio:!0},r.a.createElement("rect",{width:"200",height:"100",fill:"lightblue",strokeWidth:"0"})))},T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).prepareData=function(){fetch("https://raw.githubusercontent.com/sxywu/react-d3-example/master/public/sf.json").then((function(e){return e.json()})).then((function(e){return e.map((function(e){return Object.assign(e,{date:new Date(e.date)})}))})).then((function(e){return a.setState({data:e})}))},a.state={data:null},a}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.prepareData()}},{key:"render",value:function(){return r.a.createElement("div",{className:"flex flex-wrap"},r.a.createElement("h3",null,"Using Hook"),r.a.createElement(A,{data:this.state.data}),r.a.createElement("h3",null,"using Class Component"),r.a.createElement(g,{data:this.state.data}),r.a.createElement(G,{data:this.state.data}),r.a.createElement(J,{data:this.state.data}),r.a.createElement(I,null),r.a.createElement(P,null),r.a.createElement(M,null))}}]),t}(n.Component);a(81);l.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.249f1306.chunk.js.map