(this["webpackJsonpReact-D3"]=this["webpackJsonpReact-D3"]||[]).push([[0],{67:function(e,t,n){e.exports=n(74)},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(44),l=n.n(c),i=n(4),u=n(1),o=function(){var e=Object(r.useState)([65,50,40,30,25,20]),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(r.useRef)();return Object(r.useEffect)((function(){Object(u.g)(l.current).selectAll("circle").data(n).join("circle").attr("r",(function(e){return e})).attr("cx",10).attr("cy",10).attr("stroke","red").attr("transform","translate(150,75)").attr("class","fill-current text-orange-200 hover:text-orange-300 cursor-pointer")}),[n]),a.a.createElement("div",{className:"flex flex-col"},a.a.createElement("div",{className:"flex"},a.a.createElement("div",null,a.a.createElement("p",null,"D3 Controlling the SVG DOM"),a.a.createElement("svg",{ref:l})),a.a.createElement("div",null,a.a.createElement("p",null,"React Controlling the SVG DOM"),a.a.createElement("svg",null,n.map((function(e){return a.a.createElement("circle",{cx:"10",cy:"10",r:e,stroke:"red",transform:"translate(150,75)",className:"fill-current text-orange-200 hover:text-orange-300 cursor-pointer"})}))))),a.a.createElement("div",{className:"flex justify-center"},a.a.createElement("button",{className:"border-2 m-2 p-2",onClick:function(){return c(n.map((function(e){return e+5})))}},"update"),a.a.createElement("button",{className:"border-2 m-2 p-2",onClick:function(){return c(n.filter((function(e){return e<40})))}},"filter")))},m=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){fetch("https://raw.githubusercontent.com/sxywu/react-d3-example/master/public/sf.json").then((function(e){return e.json()})).then((function(e){return e.map((function(e){return Object.assign(e,{date:new Date(e.date)})}))})).then((function(e){return c(e)}))}),[]);var l=function(){if(n){var e=u.f().range([0,1024]),t=u.d().range([500,0]),r=u.e(u.b),a=u.a(n,(function(e){return e.date})),c=u.c(n,(function(e){return e.high})),l=u.a(n,(function(e){return e.avg})),o=Object(i.a)(l,2),m=o[0],s=o[1];return e.domain(a),t.domain([0,c]),r.domain([s,m]),n.map((function(n){var a=t(n.high),c=t(n.low);return{x:e(n.date),y:a,height:c-a,fill:r(n.avg)}}))}};return a.a.createElement("div",{className:"flex flex-wrap justify-around"},a.a.createElement("div",{className:"border mt-2"},n&&a.a.createElement("div",null,a.a.createElement("svg",{width:"600",height:"300"},l().map((function(e){return a.a.createElement("rect",{x:e.x,y:e.y,width:"2",height:e.height,fill:e.fill})}))))),a.a.createElement("div",{className:"border mt-2"},n&&a.a.createElement("div",null,a.a.createElement("svg",{width:"600",height:"300"},l().map((function(e){return a.a.createElement("rect",{x:e.x,y:e.y,width:"2",height:e.height,fill:e.fill})}))))),a.a.createElement("div",{className:"border mt-2"},n&&a.a.createElement("div",null,a.a.createElement("svg",{width:"600",height:"300"},l().map((function(e){return a.a.createElement("rect",{x:e.x,y:e.y,width:"2",height:e.height,fill:e.fill})}))))),a.a.createElement("div",{className:"border mt-2"},a.a.createElement(o,null)))};n(72),n(73);l.a.render(a.a.createElement(m,null),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.e8899122.chunk.js.map